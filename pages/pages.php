<?php//initialize the l33t/*~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~*//*---\        ,**_    _*_      _*_  <____**____> *    /           \    |        |        [] *.---        <---//   |   [+]  |        {} *   \             \   |    |   |        || *    \            ||  \ \//\ / /        {} ***   **\   /\___//    \_/  \_/        _[]_ **    ***   ******      *    *         ****  /*~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~*/ /*This is fast and dirty. need to add logic to remove pages we don't want displayed, *such as `.` and `..` which are symlinks.  *as well as `deposit.php.save` (i assume you will delete this eventually anyway) *--r3wt */if(!isUserLoggedIn()){echo '<meta http-equiv="refresh" content="0; URL=access_denied.php">';die();}if(!isUserAdmin($id)){echo '<meta http-equiv="refresh" content="0; URL=access_denied.php">';die();}?><table id="page"><h3>All Site Pages</h3><tr>	<th> Page </th></tr><?php//directory to track$log_directory = 'pages';//output as array$results_array = array();//logicif (is_dir($log_directory)){        if ($handle = opendir($log_directory)) //reserved namespace        {                while(($file = readdir($handle)) !== FALSE) //reads all files from dir so we don't have to bother with regex and iteration logic                {                        $results_array[] = $file; //return the file name                }                closedir($handle); //close directory        }}foreach($results_array as $value) //outputs the result from the script as variable{	if($value ==array("..", ".", "logout.php"))	{	//do nothing	}else{    echo '<tr>';	echo '<td><a href="index.php?page='.preg_replace("/\.[^$]*/","",$value).'">'.$value .'</a></td>'; //build a row for its url	echo '</tr>';	}}             ?></table>